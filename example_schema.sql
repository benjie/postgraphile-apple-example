drop table if exists products cascade;
drop table if exists disclosures cascade;
drop function if exists current_email cascade;
drop function if exists current_user_is_admin cascade;

---

-- Install "case insensitive text" extension; good for emails, usernames, etc.
create extension if not exists citext;

---

-- Add functions to make dealing with JWT claims easier.

-- Note: using the claims directly like this is not secure against someone
-- compromising the database connection; for that it's best to have a
-- "sessions" table with cryptographically secure identifier. The following
-- approach is easier to demo, and may have sufficient security for your needs
-- (it's no less secure than an application-layer security model).

create function current_email() returns citext as $$
  select current_setting('jwt.claims.email', true)::citext;
$$ language sql stable;

create function current_user_is_admin() returns boolean as $$
  select current_setting('jwt.claims.is_admin', true) = 'true';
$$ language sql stable;

---

create table products (
  id int primary key generated always as identity,
  family text not null,
  model text not null,
  released date
);
alter table products enable row level security;


grant
  select,
  insert (family, model, released),
  update (family, model, released),
  delete
on products to graphql;

-- Everyone can see released products
create policy select_released on products for select using (released <= NOW());

-- Admins can do anything
create policy all_admins on products for all using (current_user_is_admin());

---

create table disclosures (
  id int primary key generated always as identity,
  product_id int not null references products,
  email citext not null
);
alter table disclosures enable row level security;


grant
  select,
  insert (product_id, email),
  update (product_id, email),
  delete
on disclosures to graphql;

-- Users can see their own disclosures
create policy select_disclosed on disclosures for select using (email = current_email());

-- Admins can do anything
create policy all_admins on disclosures for all using (current_user_is_admin());

-- Users can see products that have been disclosed to them
create policy select_disclosed on products for select using (exists(
  select 1
  from disclosures
  where disclosures.email = current_email()
  and disclosures.product_id = products.id
));

---

insert into products (family, model, released) values
  ('VR', 'Apple Glasses', null),
  ('VR', 'Apple Reality', null),
  ('Apple I', 'Apple I', '1976-04-10T23:00:00.000Z'),
  ('Apple II', 'Apple II', '1977-03-31T23:00:00.000Z'),
  ('Drives', 'Disk II', '1978-05-31T23:00:00.000Z'),
  ('Apple II series', 'Apple II Plus', '1979-05-31T23:00:00.000Z'),
  ('December 1, 1982', 'Apple II EuroPlus', '1979-05-31T23:00:00.000Z'),
  ('December 1, 1982', 'Apple II J-Plus', '1979-05-31T23:00:00.000Z'),
  ('December 1, 1982', 'Bell & Howell', '1979-05-31T23:00:00.000Z'),
  ('Drives', 'Bell & Howell Disk II', '1979-05-31T23:00:00.000Z'),
  ('Printers', 'Apple SilenType', '1979-05-31T23:00:00.000Z'),
  ('Apple III', 'Apple III', '1980-08-31T23:00:00.000Z'),
  ('Modems', 'Modem IIB (Novation CAT)', '1980-08-31T23:00:00.000Z'),
  ('Printers', 'Printer IIA (Centronics 779)', '1980-08-31T23:00:00.000Z'),
  ('Displays', 'Monitor III', '1980-08-31T23:00:00.000Z'),
  ('Displays', 'Monitor II (various third party)', '1980-08-31T23:00:00.000Z'),
  ('Drives', 'Disk III', '1980-08-31T23:00:00.000Z'),
  ('Drives', 'Apple ProFile', '1981-08-31T23:00:00.000Z'),
  ('Apple III', 'Apple III Revised[1]', '1981-12-01T00:00:00.000Z'),
  ('Printers', 'Apple Dot Matrix Printer', '1982-09-30T23:00:00.000Z'),
  ('Printers', 'Apple Daisy Wheel Printer', '1982-09-30T23:00:00.000Z'),
  ('Apple II', 'Apple IIe', '1983-01-01T00:00:00.000Z'),
  ('68000', 'Apple Lisa[2]', '1983-01-19T00:00:00.000Z'),
  ('Apple III', 'Apple III Plus', '1983-12-01T00:00:00.000Z'),
  ('ImageWriter', 'Apple ImageWriter', '1983-12-01T00:00:00.000Z'),
  ('68000', 'Apple Lisa 2', '1984-01-01T00:00:00.000Z'),
  ('Compact', 'Macintosh (128K)', '1984-01-24T00:00:00.000Z'),
  ('Drives', 'Macintosh External Disk Drive (400K)', '1984-01-24T00:00:00.000Z'),
  ('Modems', 'Apple Modem 300, 1984', '1984-01-24T00:00:00.000Z'),
  ('Modems', 'Apple Modem 1200, 1984', '1984-01-24T00:00:00.000Z'),
  ('Apple II', 'Apple IIc', '1984-03-31T23:00:00.000Z'),
  ('Printers', 'Apple Scribe Printer', '1984-03-31T23:00:00.000Z'),
  ('Apple Mouse', 'Apple Mouse IIc', '1984-03-31T23:00:00.000Z'),
  ('Drives', 'Disk IIc', '1984-03-31T23:00:00.000Z'),
  ('Drives', 'DuoDisk', '1984-04-30T23:00:00.000Z'),
  ('Printers', 'Apple 410 Color Plotter', '1984-05-31T23:00:00.000Z'),
  ('Printers', 'Apple ImageWriter Wide Carriage', '1984-05-31T23:00:00.000Z'),
  ('Compact', 'Macintosh 512K', '1984-09-09T23:00:00.000Z'),
  ('Compact', 'Macintosh 128K (revised)', '1984-09-09T23:00:00.000Z'),
  ('Displays', 'AppleColor 100', '1984-12-01T00:00:00.000Z'),
  ('68000', 'Macintosh XL', '1985-01-01T00:00:00.000Z'),
  ('Printers', 'Apple LaserWriter', '1985-01-01T00:00:00.000Z'),
  ('Networking', 'Apple LocalTalk Connector', '1985-01-01T00:00:00.000Z'),
  ('Apple II', 'Apple IIe Enhanced', '1985-03-01T00:00:00.000Z'),
  ('Modems', 'Apple Personal Modem', '1985-03-31T23:00:00.000Z'),
  ('Printers', 'Apple ImageWriter II', '1985-03-31T23:00:00.000Z'),
  ('Drives', 'Apple UniDisk', '1985-05-31T23:00:00.000Z'),
  ('Drives', 'Macintosh Hard Disk 20', '1985-08-31T23:00:00.000Z'),
  ('Drives', 'Apple UniDisk 3.5', '1985-08-31T23:00:00.000Z'),
  ('Displays', 'Apple ColorMonitor IIe', '1985-08-31T23:00:00.000Z'),
  ('Displays', 'Apple ColorMonitor IIc', '1985-08-31T23:00:00.000Z'),
  ('Compact', 'Macintosh Plus', '1986-01-16T00:00:00.000Z'),
  ('Drives', 'Macintosh 800K External Drive', '1986-01-16T00:00:00.000Z'),
  ('Printers', 'Apple LaserWriter Plus', '1986-01-16T00:00:00.000Z'),
  ('Compact', 'Macintosh 512Ke', '1986-04-13T23:00:00.000Z'),
  ('Apple II', 'Apple IIGS', '1986-09-14T23:00:00.000Z'),
  ('Apple II', 'Apple IIc Memory Expansion', '1986-09-14T23:00:00.000Z'),
  ('Drives', 'Apple Hard Disk 20SC', '1986-09-14T23:00:00.000Z'),
  ('Drives', 'Apple 3.5 Drive', '1986-09-14T23:00:00.000Z'),
  ('Drives', 'Apple 5.25 Drive', '1986-09-14T23:00:00.000Z'),
  ('Displays', 'AppleColor RGB Monitor', '1986-09-14T23:00:00.000Z'),
  ('Displays', 'Apple Monochrome Monitor', '1986-09-14T23:00:00.000Z'),
  ('Displays', 'AppleColor Composite Monitor', '1986-09-14T23:00:00.000Z'),
  ('Compact', 'Macintosh Plus (Platinum)', '1987-01-01T00:00:00.000Z'),
  ('Apple II', 'Apple IIe Platinum', '1987-01-01T00:00:00.000Z'),
  ('Compact', 'Macintosh SE', '1987-03-02T00:00:00.000Z'),
  ('Mac II', 'Macintosh II', '1987-03-02T00:00:00.000Z'),
  ('Displays', 'AppleColor High-Resolution RGB Monitor', '1987-03-02T00:00:00.000Z'),
  ('Printers', 'ImageWriter LQ', '1987-07-31T23:00:00.000Z'),
  ('Modems', 'AppleFax Modem', '1987-07-31T23:00:00.000Z'),
  ('Drives', 'Apple PC 5.25" Drive', '1987-07-31T23:00:00.000Z'),
  ('Drives', 'Apple Tape Backup 40SC', '1987-07-31T23:00:00.000Z'),
  ('Printers', 'LaserWriter II SC, II NT, II NTX', '1988-01-01T00:00:00.000Z'),
  ('Drives', 'AppleCD SC', '1988-03-01T00:00:00.000Z'),
  ('Scanner', 'Apple Scanner', '1988-07-31T23:00:00.000Z'),
  ('Apple II', 'Apple IIc Plus', '1988-08-31T23:00:00.000Z'),
  ('Mac II', 'Macintosh IIx', '1988-09-18T23:00:00.000Z'),
  ('Compact', 'Macintosh SE/30', '1989-01-19T00:00:00.000Z'),
  ('Mac II', 'Macintosh IIcx', '1989-03-07T00:00:00.000Z'),
  ('Displays', 'Apple Two Page Monochrome Monitor', '1989-03-07T00:00:00.000Z'),
  ('Displays', 'Apple Macintosh Portrait Display', '1989-03-07T00:00:00.000Z'),
  ('Displays', 'Apple High-Resolution Monochrome Display', '1989-03-07T00:00:00.000Z'),
  ('Modems', 'Apple Modem 2400', '1989-06-30T23:00:00.000Z'),
  ('Compact', 'Macintosh SE FDHD', '1989-07-31T23:00:00.000Z'),
  ('Drives', 'Apple FDHD SuperDrive', '1989-07-31T23:00:00.000Z'),
  ('Mac II', 'Macintosh IIci', '1989-09-19T23:00:00.000Z'),
  ('Portable', 'Macintosh Portable', '1989-09-19T23:00:00.000Z'),
  ('Apple II', 'Apple IIGS (1 MB, ROM 3)[3]', '1989-09-30T23:00:00.000Z'),
  ('Mac II', 'Macintosh IIfx', '1990-03-19T00:00:00.000Z'),
  ('LaserWriter', 'Personal LaserWriter SC', '1990-05-31T23:00:00.000Z'),
  ('Macintosh LC', 'Macintosh LC', '1990-10-14T23:00:00.000Z'),
  ('Compact', 'Macintosh Classic', '1990-10-14T23:00:00.000Z'),
  ('Mac II', 'Macintosh IIsi', '1990-10-14T23:00:00.000Z'),
  ('Portable', 'Macintosh Portable (backlit screen)', '1991-02-11T00:00:00.000Z'),
  ('Apple II series', 'Apple IIe Card', '1991-03-01T00:00:00.000Z'),
  ('LaserWriter', 'Personal LaserWriter LS', '1991-03-01T00:00:00.000Z'),
  ('StyleWriter', 'StyleWriter', '1991-03-01T00:00:00.000Z'),
  ('LaserWriter', 'Personal LaserWriter NT', '1991-06-30T23:00:00.000Z'),
  ('May 1, 1993', 'LaserWriter IIf', '1991-09-30T23:00:00.000Z'),
  ('October 1, 1993', 'LaserWriter IIg', '1991-09-30T23:00:00.000Z'),
  ('Compact', 'Macintosh Classic II', '1991-10-20T23:00:00.000Z'),
  ('Quadra', 'Macintosh Quadra 700', '1991-10-20T23:00:00.000Z'),
  ('May 18, 1992', 'Macintosh Quadra 900', '1991-10-20T23:00:00.000Z'),
  ('PowerBook 100', 'PowerBook 100', '1991-10-20T23:00:00.000Z'),
  ('August 3, 1992', 'PowerBook 140', '1991-10-20T23:00:00.000Z'),
  ('October 19, 1992', 'PowerBook 170', '1991-10-20T23:00:00.000Z'),
  ('LaserWriter', 'Personal LaserWriter NTR', '1992-03-01T00:00:00.000Z'),
  ('Macintosh LC', 'Macintosh LC II', '1992-03-23T00:00:00.000Z'),
  ('Quadra', 'Macintosh Quadra 950', '1992-05-17T23:00:00.000Z'),
  ('PowerBook 100', 'PowerBook 145', '1992-08-02T23:00:00.000Z'),
  ('Display', 'Apple Performa Plus Display', '1992-09-13T23:00:00.000Z'),
  ('Mac II', 'Macintosh IIvi', '1992-10-18T23:00:00.000Z'),
  ('Mac II', 'Macintosh IIvx', '1992-10-18T23:00:00.000Z'),
  ('PowerBook 100', 'PowerBook 160', '1992-10-18T23:00:00.000Z'),
  ('PowerBook 100', 'PowerBook 180', '1992-10-18T23:00:00.000Z'),
  ('PowerBook Duo', 'PowerBook Duo 210', '1992-10-18T23:00:00.000Z'),
  ('PowerBook Duo', 'PowerBook Duo 230', '1992-10-18T23:00:00.000Z'),
  ('PowerBook Duo', 'Powerbook Duo Dock', '1992-10-18T23:00:00.000Z'),
  ('StyleWriter', 'StyleWriter II', '1993-01-01T00:00:00.000Z'),
  ('StyleWriter', 'Apple Color Printer', '1993-01-01T00:00:00.000Z'),
  ('LaserWriter', 'LaserWriter Pro 600', '1993-01-01T00:00:00.000Z'),
  ('LaserWriter', 'LaserWriter Pro 630', '1993-01-01T00:00:00.000Z'),
  ('Macintosh LC', 'Macintosh LC III', '1993-02-10T00:00:00.000Z'),
  ('Compact', 'Macintosh Color Classic', '1993-02-10T00:00:00.000Z'),
  ('Centris', 'Macintosh Centris/Quadra 610', '1993-02-10T00:00:00.000Z'),
  ('Centris', 'Macintosh Centris/Quadra 650', '1993-02-10T00:00:00.000Z'),
  ('Quadra', 'Quadra 800', '1993-02-10T00:00:00.000Z'),
  ('PowerBook 100', 'PowerBook 165c', '1993-02-10T00:00:00.000Z'),
  ('LaserWriter', 'LaserWriter Select 300', '1993-02-10T00:00:00.000Z'),
  ('LaserWriter', 'LaserWriter Select 310', '1993-02-10T00:00:00.000Z'),
  ('Workgroup Server', 'Workgroup Server 80', '1993-03-22T00:00:00.000Z'),
  ('Workgroup Server', 'Workgroup Server 95', '1993-03-22T00:00:00.000Z'),
  ('PowerCD', 'PowerCD', '1993-03-22T00:00:00.000Z'),
  ('PowerCD', 'Apple Design Powered Speakers', '1993-03-22T00:00:00.000Z'),
  ('PowerBook 100', 'PowerBook 145b', '1993-06-06T23:00:00.000Z'),
  ('PowerBook 100', 'PowerBook 180c', '1993-06-06T23:00:00.000Z'),
  ('LaserWriter', 'Personal LaserWriter 300', '1993-05-31T23:00:00.000Z'),
  ('StyleWriter', 'Portable StyleWriter', '1993-06-22T23:00:00.000Z'),
  ('Macintosh LC', 'Macintosh LC 520', '1993-06-27T23:00:00.000Z'),
  ('Workgroup Server', 'Workgroup Server 60', '1993-07-25T23:00:00.000Z'),
  ('Quadra', 'Macintosh Centris/Quadra 660AV', '1993-07-28T23:00:00.000Z'),
  ('Quadra', 'Quadra 840AV', '1993-07-28T23:00:00.000Z'),
  ('Display', 'Apple AudioVision 14 Display', '1993-07-31T23:00:00.000Z'),
  ('Newton', 'Newton Message Pad', '1993-08-15T23:00:00.000Z'),
  ('PowerBook 100', 'PowerBook 165', '1993-08-15T23:00:00.000Z'),
  ('LaserWriter', 'LaserWriter Select 360', '1993-09-30T23:00:00.000Z'),
  ('LaserWriter', 'LaserWriter Pro 810', '1993-09-30T23:00:00.000Z'),
  ('LaserWriter', 'Personal LaserWriter 320', '1993-09-30T23:00:00.000Z'),
  ('Macintosh LC', 'Macintosh LC III+', '1993-10-17T23:00:00.000Z'),
  ('Macintosh LC', 'Macintosh TV', '1993-10-20T23:00:00.000Z'),
  ('Compact', 'Macintosh Color Classic II', '1993-10-20T23:00:00.000Z'),
  ('Quadra', 'Quadra 605', '1993-10-20T23:00:00.000Z'),
  ('Quadra', 'Quadra 610', '1993-10-20T23:00:00.000Z'),
  ('Quadra', 'Quadra 650', '1993-10-20T23:00:00.000Z'),
  ('PowerBook Duo', 'PowerBook Duo 250', '1993-10-20T23:00:00.000Z'),
  ('PowerBook Duo', 'PowerBook Duo 270c', '1993-10-20T23:00:00.000Z'),
  ('Display', 'Apple Color Plus 14" Display', '1993-10-20T23:00:00.000Z'),
  ('Macintosh LC', 'Macintosh LC 550', '1994-02-01T00:00:00.000Z'),
  ('Macintosh LC', 'Macintosh LC 575', '1994-02-01T00:00:00.000Z'),
  ('StyleWriter', 'Color StyleWriter Pro', '1994-02-01T00:00:00.000Z'),
  ('QuickTake', 'Apple QuickTake 100', '1994-02-01T00:00:00.000Z'),
  ('Quadra', 'Quadra 610 DOS Compatible', '1994-02-28T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 6100', '1994-03-14T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 7100', '1994-03-14T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 8100', '1994-03-14T00:00:00.000Z'),
  ('Workgroup Server', 'Workgroup Server 6150', '1994-04-24T23:00:00.000Z'),
  ('Workgroup Server', 'Workgroup Server 8150', '1994-04-24T23:00:00.000Z'),
  ('Workgroup Server', 'Workgroup Server 9150', '1994-04-24T23:00:00.000Z'),
  ('PowerBook 500', 'PowerBook 520c', '1994-05-15T23:00:00.000Z'),
  ('PowerBook 500', 'PowerBook 540c', '1994-05-15T23:00:00.000Z'),
  ('PowerBook 500', 'PowerBook 550', '1994-05-15T23:00:00.000Z'),
  ('PowerBook Duo', 'PowerBook Duo 280', '1994-05-15T23:00:00.000Z'),
  ('PowerBook Duo', 'PowerBook Duo 280c', '1994-05-15T23:00:00.000Z'),
  ('PowerBook Duo', 'PowerBook Duo Dock II', '1994-05-15T23:00:00.000Z'),
  ('Quadra', 'Quadra 630', '1994-07-17T23:00:00.000Z'),
  ('PowerBook 100', 'PowerBook 150', '1994-07-17T23:00:00.000Z'),
  ('Display', 'Apple Multiple Scan 15 Display', '1994-07-17T23:00:00.000Z'),
  ('StyleWriter', 'Color StyleWriter 2400', '1994-08-31T23:00:00.000Z'),
  ('LaserWriter', 'LaserWriter 16/600 PS', '1994-08-31T23:00:00.000Z'),
  ('LC', 'Macintosh LC 630', '1994-11-03T00:00:00.000Z'),
  ('Pippin', 'Pippin', '1994-12-01T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 6200 / 6300', '1995-01-28T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 8115', '1995-02-23T00:00:00.000Z'),
  ('StyleWriter', 'StyleWriter 1200', '1995-03-31T23:00:00.000Z'),
  ('Macintosh LC', 'Macintosh LC 580', '1995-04-02T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 5200 LC', '1995-04-02T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 6200', '1995-04-30T23:00:00.000Z'),
  ('PowerBook Duo', 'PowerBook Duo Dock Plus', '1995-05-14T23:00:00.000Z'),
  ('LaserWriter', 'LaserWriter 4/600 PS', '1995-05-31T23:00:00.000Z'),
  ('LaserWriter', 'Color LaserWriter 12/600', '1995-05-31T23:00:00.000Z'),
  ('StyleWriter', 'Color StyleWriter 2200', '1995-05-31T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 9500', '1995-06-18T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 7200', '1995-08-06T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 7500', '1995-08-06T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 8500', '1995-08-06T23:00:00.000Z'),
  ('Display', 'AppleVision 1710', '1995-08-06T23:00:00.000Z'),
  ('Display', 'Apple Multiple Scan 14 Display', '1995-08-06T23:00:00.000Z'),
  ('PowerBook 100', 'PowerBook 190', '1995-08-27T23:00:00.000Z'),
  ('PowerBook 500', 'PowerBook 5300', '1995-08-27T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 5300 LC', '1995-08-27T23:00:00.000Z'),
  ('PowerBook Duo', 'PowerBook Duo 2300c', '1995-08-27T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 7215', '1996-01-11T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 8515', '1996-01-11T00:00:00.000Z'),
  ('Network Server', 'Apple Network Server 500', '1996-02-15T00:00:00.000Z'),
  ('Network Server', 'Apple Network Server 700/150', '1996-02-15T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 5400', '1996-02-17T00:00:00.000Z'),
  ('StyleWriter', 'Color StyleWriter 1500', '1996-02-19T00:00:00.000Z'),
  ('StyleWriter', 'Color StyleWriter 2500', '1996-02-19T00:00:00.000Z'),
  ('Workgroup Server', 'Workgroup Server 7250', '1996-02-26T00:00:00.000Z'),
  ('Workgroup Server', 'Workgroup Server 8550', '1996-02-26T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 7600', '1996-03-31T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 5260', '1996-04-14T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 7200/120 PC Compatible', '1996-04-21T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 8200', '1996-04-21T23:00:00.000Z'),
  ('LaserWriter', 'LaserWriter 12/640PS', '1996-04-30T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 6300', '1996-06-26T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 6400', '1996-09-30T23:00:00.000Z'),
  ('LaserWriter', 'Color LaserWriter 12/660 PS', '1996-09-30T23:00:00.000Z'),
  ('Network Server', 'Apple Network Server 700/200', '1996-10-15T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 4400', '1996-11-15T00:00:00.000Z'),
  ('PowerBook', 'PowerBook 1400', '1996-11-20T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 5500', '1997-02-17T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 6500', '1997-02-17T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 7220', '1997-02-17T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 7300', '1997-02-17T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 8600', '1997-02-17T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh 9600', '1997-02-17T00:00:00.000Z'),
  ('PowerBook', 'PowerBook 3400', '1997-02-17T00:00:00.000Z'),
  ('Newton', 'eMate 300', '1997-03-07T00:00:00.000Z'),
  ('Power Macintosh', 'Twentieth Anniversary Macintosh', '1997-03-20T00:00:00.000Z'),
  ('Workgroup Server', 'Workgroup Server 7350', '1997-04-20T23:00:00.000Z'),
  ('Workgroup Server', 'Workgroup Server 9650', '1997-04-20T23:00:00.000Z'),
  ('PowerBook', 'PowerBook 2400c', '1997-05-07T23:00:00.000Z'),
  ('StyleWriter', 'Color StyleWriter 4100', '1997-06-15T23:00:00.000Z'),
  ('StyleWriter', 'Color StyleWriter 4500', '1997-06-15T23:00:00.000Z'),
  ('StyleWriter', 'Color StyleWriter 6500', '1997-06-15T23:00:00.000Z'),
  ('LaserWriter', 'LaserWriter 8500', '1997-08-04T23:00:00.000Z'),
  ('Display', 'Apple ColorSync/AppleVision 750 Display', '1997-08-04T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh G3 desktop', '1997-11-10T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh G3 minitower', '1997-11-10T00:00:00.000Z'),
  ('PowerBook G3', 'PowerBook G3', '1997-11-10T00:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh G3 AIO', '1998-01-31T00:00:00.000Z'),
  ('Macintosh Server', 'Macintosh Server G3', '1998-03-02T00:00:00.000Z'),
  ('Display', 'Apple Studio Display', '1998-03-17T00:00:00.000Z'),
  ('PowerBook G3', 'PowerBook G3 series', '1998-05-05T23:00:00.000Z'),
  ('iMac', 'iMac G3', '1998-08-14T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh G3 (Blue & White)', '1999-01-05T00:00:00.000Z'),
  ('Macintosh Server', 'Macintosh Server G3 (Blue & White)', '1999-01-05T00:00:00.000Z'),
  ('PowerBook G3', 'PowerBook G3 ("Lombard")', '1999-05-09T23:00:00.000Z'),
  ('iBook', 'iBook', '1999-07-20T23:00:00.000Z'),
  ('AirPort', 'AirPort (802.11b, "Graphite")', '1999-07-20T23:00:00.000Z'),
  ('Macintosh Server', 'Macintosh Server G4', '1999-08-30T23:00:00.000Z'),
  ('Displays', 'Cinema Display (22")', '1999-08-31T23:00:00.000Z'),
  ('iMac', 'iMac (slot loading)', '1999-10-04T23:00:00.000Z'),
  ('Power Macintosh', 'Power Mac G4 Graphite', '1999-10-12T23:00:00.000Z'),
  ('PowerBook G3', 'PowerBook ("Pismo")', '2000-02-16T00:00:00.000Z'),
  ('Power Macintosh', 'Power Mac G4 Cube', '2000-07-18T23:00:00.000Z'),
  ('Displays', 'Cinema Display (22") (ADC)', '2000-07-18T23:00:00.000Z'),
  ('Macintosh', 'Apple Pro Speakers (USB)', '2000-07-18T23:00:00.000Z'),
  ('iBook', 'iBook (FireWire)', '2000-09-12T23:00:00.000Z'),
  ('PowerBook G4', 'PowerBook G4 Titanium', '2001-01-09T00:00:00.000Z'),
  ('Power Macintosh', 'Power Mac G4 Digital Audio', '2001-01-09T00:00:00.000Z'),
  ('Macintosh', 'Apple Pro Speakers (minijack)', '2001-01-09T00:00:00.000Z'),
  ('iBook', 'iBook (white)', '2001-04-30T23:00:00.000Z'),
  ('Power Macintosh', 'Power Mac G4 Quicksilver', '2001-07-17T23:00:00.000Z'),
  ('Macintosh Server', 'Server G4 Quicksilver', '2001-09-07T23:00:00.000Z'),
  ('iPod Classic', 'iPod (1st gen)', '2001-10-22T23:00:00.000Z'),
  ('iMac', 'iMac G4 15"', '2002-01-07T00:00:00.000Z'),
  ('iBook', 'iBook (14")', '2002-01-07T00:00:00.000Z'),
  ('eMac', 'eMac', '2002-04-28T23:00:00.000Z'),
  ('Xserve', 'Xserve', '2002-05-13T23:00:00.000Z'),
  ('iMac', 'iMac G4 17"', '2002-07-16T23:00:00.000Z'),
  ('iPod Classic', 'iPod (2nd gen)', '2002-07-16T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh G4 MDD', '2002-08-12T23:00:00.000Z'),
  ('Macintosh Server', 'Macintosh Server G4 MDD', '2002-08-26T23:00:00.000Z'),
  ('PowerBook G4', 'PowerBook G4 Aluminum (12")', '2003-01-07T00:00:00.000Z'),
  ('PowerBook G4', 'PowerBook G4 Aluminum (17")', '2003-01-07T00:00:00.000Z'),
  ('Xserve', 'Xserve slot loading', '2003-02-10T00:00:00.000Z'),
  ('Xserve', 'Xserve Cluster Node', '2003-02-10T00:00:00.000Z'),
  ('Xserve', 'Xserve RAID', '2003-02-10T00:00:00.000Z'),
  ('iPod Classic', 'iPod (3rd gen)', '2003-04-27T23:00:00.000Z'),
  ('Power Macintosh', 'Power Mac G5', '2003-06-22T23:00:00.000Z'),
  ('PowerBook G4', 'PowerBook G4 Aluminum (15")', '2003-09-15T23:00:00.000Z'),
  ('iBook', 'iBook G4 (12" / 14")', '2003-10-21T23:00:00.000Z'),
  ('iMac', 'iMac G4 20"', '2003-11-18T00:00:00.000Z'),
  ('Xserve', 'Xserve G5', '2004-01-06T00:00:00.000Z'),
  ('Xserve', 'Xserve Cluster Node G5', '2004-01-06T00:00:00.000Z'),
  ('iPod Mini', 'iPod Mini (1st gen)', '2004-01-06T00:00:00.000Z'),
  ('iPod accessories', 'iPod In-Ear Headphones', '2004-01-06T00:00:00.000Z'),
  ('iPod Classic', 'iPod+HP', '2004-01-08T00:00:00.000Z'),
  ('AirPort Express', 'AirPort Express (802.11g)', '2004-06-06T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh G5 FX', '2004-06-08T23:00:00.000Z'),
  ('Displays', 'Cinema Display (20")', '2004-06-27T23:00:00.000Z'),
  ('Displays', 'Cinema Display (23")', '2004-06-27T23:00:00.000Z'),
  ('Displays', 'Cinema Display (30")', '2004-06-27T23:00:00.000Z'),
  ('iPod Classic', 'iPod (4th gen)', '2004-07-18T23:00:00.000Z'),
  ('iMac', 'iMac G5 17"', '2004-08-30T23:00:00.000Z'),
  ('iMac', 'iMac G5 20"', '2004-08-30T23:00:00.000Z'),
  ('iPod Classic', 'iPod Photo', '2004-09-25T23:00:00.000Z'),
  ('Mac Mini', 'Mac Mini', '2005-01-11T00:00:00.000Z'),
  ('iPod Shuffle', 'iPod Shuffle (1st gen)', '2005-01-11T00:00:00.000Z'),
  ('iPod Mini', 'iPod Mini (2nd gen)', '2005-02-23T00:00:00.000Z'),
  ('iPod Nano', 'iPod Nano (1st gen)', '2005-09-06T23:00:00.000Z'),
  ('Apple Mouse', 'Apple Mighty Mouse', '2005-08-01T23:00:00.000Z'),
  ('iPod Classic', 'iPod (5th gen)', '2005-10-11T23:00:00.000Z'),
  ('Power Macintosh', 'Power Macintosh G5 dual core', '2005-10-18T23:00:00.000Z'),
  ('iMac', 'iMac (Early 2006)', '2006-01-10T00:00:00.000Z'),
  ('iPod accessories', 'iPod Radio Remote', '2006-01-10T00:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (15")', '2006-02-14T00:00:00.000Z'),
  ('Mac Mini', 'Mac Mini Core Solo', '2006-02-28T00:00:00.000Z'),
  ('Mac Mini', 'Mac Mini Core Duo', '2006-02-28T00:00:00.000Z'),
  ('iPod accessories', 'iPod Hi-Fi', '2006-02-28T00:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (17")', '2006-04-23T23:00:00.000Z'),
  ('MacBook', 'MacBook', '2006-05-15T23:00:00.000Z'),
  ('iPod accessories', 'Nike+iPod', '2006-07-12T23:00:00.000Z'),
  ('Mac Pro', 'Mac Pro', '2006-08-06T23:00:00.000Z'),
  ('Xserve', 'Xserve (Intel)', '2006-08-06T23:00:00.000Z'),
  ('iMac', 'iMac (Mid 2006)', '2006-09-05T23:00:00.000Z'),
  ('iPod Shuffle', 'iPod Shuffle (2nd gen)', '2006-09-11T23:00:00.000Z'),
  ('iPod Nano', 'iPod Nano (2nd gen)', '2006-09-24T23:00:00.000Z'),
  ('Apple TV', 'Apple TV (1st gen)', '2007-03-21T00:00:00.000Z'),
  ('iPhone', 'iPhone (1st generation) (4 GB)', '2007-06-28T23:00:00.000Z'),
  ('iPhone', 'iPhone (1st generation) (8 GB)', '2007-06-28T23:00:00.000Z'),
  ('iPhone Accessories', 'iPhone Bluetooth Headset', '2007-06-28T23:00:00.000Z'),
  ('iMac', 'iMac (Mid 2007)', '2007-08-06T23:00:00.000Z'),
  ('Apple Mouse', 'Apple Mighty Mouse (revised)', '2007-08-06T23:00:00.000Z'),
  ('Apple Keyboard', 'Apple Keyboard with Numeric Keypad', '2007-08-06T23:00:00.000Z'),
  ('Apple Keyboard', 'Apple Wireless Keyboard (Aluminum)', '2007-08-06T23:00:00.000Z'),
  ('Mac Mini', 'Mac Mini (Mid 2007)', '2007-08-06T23:00:00.000Z'),
  ('iPod Nano', 'iPod Nano (3rd gen)', '2007-09-04T23:00:00.000Z'),
  ('iPod Classic', 'iPod Classic (6th gen)', '2007-09-04T23:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (1st generation) (8 & 16 GB)', '2007-09-04T23:00:00.000Z'),
  ('Xserve', 'Xserve (Early 2008)', '2008-01-08T00:00:00.000Z'),
  ('Mac Pro', 'Mac Pro (Early 2008)', '2008-01-08T00:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (Early 2008)', '2008-01-15T00:00:00.000Z'),
  ('Drives', 'USB SuperDrive', '2008-01-15T00:00:00.000Z'),
  ('iPhone', 'iPhone (1st generation) (16 GB)', '2008-02-05T00:00:00.000Z'),
  ('MacBook', 'MacBook (Early 2008)', '2008-02-26T00:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Early 2008) (15")', '2008-02-26T00:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Early 2008) (17")', '2008-02-26T00:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (1st generation) (32 GB)', '2008-02-27T00:00:00.000Z'),
  ('AirPort, drives', 'Time Capsule (1st gen)', '2008-02-29T00:00:00.000Z'),
  ('AirPort Express', 'AirPort Express 802.11n (1st gen)', '2008-03-17T00:00:00.000Z'),
  ('iMac', 'iMac (Early 2008)', '2008-04-27T23:00:00.000Z'),
  ('iPhone', 'iPhone 3G (8 GB)', '2008-07-10T23:00:00.000Z'),
  ('iPhone', 'iPhone 3G (16 GB)', '2008-07-10T23:00:00.000Z'),
  ('iPod Nano', 'iPod Nano (4th gen)', '2008-09-08T23:00:00.000Z'),
  ('iPod Classic', 'iPod Classic (6th gen) (120 GB)', '2008-09-08T23:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (2nd generation) (8 GB)', '2008-09-08T23:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (2nd generation) (16 & 32 GB)', '2008-09-08T23:00:00.000Z'),
  ('iPod accessories', 'In-Ear Headphones', '2008-09-08T23:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (Late 2008)', '2008-10-13T23:00:00.000Z'),
  ('MacBook', 'MacBook (Late 2008) (White)', '2008-10-13T23:00:00.000Z'),
  ('MacBook', 'MacBook (Late 2008) (Aluminum)', '2008-10-13T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Late 2008) (15")', '2008-10-13T23:00:00.000Z'),
  ('Displays', 'LED Cinema Display (24")', '2008-10-13T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Early 2009) (17")', '2009-01-06T00:00:00.000Z'),
  ('MacBook', 'MacBook (Early 2009) (White)', '2009-01-29T00:00:00.000Z'),
  ('Mac Mini', 'Mac Mini (Early 2009)', '2009-03-03T00:00:00.000Z'),
  ('iMac', 'iMac (Early 2009)', '2009-03-03T00:00:00.000Z'),
  ('Mac Pro', 'Mac Pro (Early 2009)', '2009-03-03T00:00:00.000Z'),
  ('AirPort, drives', 'Time Capsule (2nd gen) (500 GB)', '2009-03-03T00:00:00.000Z'),
  ('AirPort, drives', 'Time Capsule (2nd gen) (1 TB)', '2009-03-03T00:00:00.000Z'),
  ('AirPort', 'AirPort Extreme 802.11n (3rd gen)', '2009-03-03T00:00:00.000Z'),
  ('Apple Keyboard', 'Apple Keyboard (short)', '2009-03-03T00:00:00.000Z'),
  ('iPod Shuffle', 'iPod Shuffle (3rd gen) (4 GB)', '2009-03-11T00:00:00.000Z'),
  ('Xserve', 'Xserve (2009)', '2009-04-06T23:00:00.000Z'),
  ('MacBook', 'MacBook (Mid 2009)', '2009-05-26T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Mid 2009)', '2009-06-07T23:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (Mid 2009)', '2009-06-07T23:00:00.000Z'),
  ('iPhone', 'iPhone 3GS (16 & 32 GB)', '2009-06-18T23:00:00.000Z'),
  ('AirPort, drives', 'Time Capsule (2nd gen) (2 TB)', '2009-07-29T23:00:00.000Z'),
  ('iPod Nano', 'iPod Nano (5th gen)', '2009-09-08T23:00:00.000Z'),
  ('iPod Classic', 'iPod Classic (6th gen) (160 GB)', '2009-09-08T23:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (3rd generation)', '2009-09-08T23:00:00.000Z'),
  ('iPod Shuffle', 'iPod Shuffle (3rd gen) (2 GB)', '2009-09-08T23:00:00.000Z'),
  ('iMac', 'iMac (Late 2009)', '2009-10-19T23:00:00.000Z'),
  ('MacBook', 'MacBook (Late 2009)', '2009-10-19T23:00:00.000Z'),
  ('Mac Mini', 'Mac Mini (Late 2009)', '2009-10-19T23:00:00.000Z'),
  ('Apple Mouse', 'Magic Mouse', '2009-10-19T23:00:00.000Z'),
  ('AirPort', 'AirPort Extreme 802.11n (4th gen)', '2009-10-19T23:00:00.000Z'),
  ('AirPort, drives', 'Time Capsule (3rd gen)', '2010-03-30T23:00:00.000Z'),
  ('iPad', 'iPad (Wi-Fi)', '2010-04-02T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Mid 2010)', '2010-04-12T23:00:00.000Z'),
  ('iPad', 'iPad (Wi-Fi + 3G)', '2010-04-29T23:00:00.000Z'),
  ('MacBook', 'MacBook (Mid 2010)', '2010-05-17T23:00:00.000Z'),
  ('Mac Mini', 'Mac Mini (Mid 2010)', '2010-06-14T23:00:00.000Z'),
  ('iPhone', 'iPhone 3GS (8 GB)', '2010-06-23T23:00:00.000Z'),
  ('iPhone', 'iPhone 4 (GSM) (16 & 32 GB)', '2010-06-23T23:00:00.000Z'),
  ('iMac', 'iMac (Mid 2010)', '2010-07-26T23:00:00.000Z'),
  ('Trackpad', 'Magic Trackpad', '2010-07-26T23:00:00.000Z'),
  ('Input Device Accessories', 'Apple Battery Charger', '2010-07-26T23:00:00.000Z'),
  ('Displays', 'LED Cinema Display (27")', '2010-07-26T23:00:00.000Z'),
  ('Mac Pro', 'Mac Pro (Mid 2010)', '2010-08-08T23:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (4th generation) (8 & 64 GB)', '2010-08-31T23:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (4th generation) (32 GB)', '2010-08-31T23:00:00.000Z'),
  ('iPod Nano', 'iPod Nano (6th gen)', '2010-08-31T23:00:00.000Z'),
  ('iPod Shuffle', 'iPod Shuffle (4th gen)', '2010-08-31T23:00:00.000Z'),
  ('Apple TV', 'Apple TV (2nd gen)', '2010-08-31T23:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (Late 2010)', '2010-10-19T23:00:00.000Z'),
  ('iPhone', 'iPhone 4 (CDMA) (16 & 32 GB)', '2011-02-10T00:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Early 2011)', '2011-02-24T00:00:00.000Z'),
  ('iPad', 'iPad 2 (16 GB)', '2011-03-11T00:00:00.000Z'),
  ('iPad', 'iPad 2 (32 & 64 GB)', '2011-03-11T00:00:00.000Z'),
  ('iMac', 'iMac (Mid 2011)', '2011-05-02T23:00:00.000Z'),
  ('AirPort', 'AirPort Extreme 802.11n (5th gen)', '2011-06-20T23:00:00.000Z'),
  ('AirPort, drives', 'Time Capsule (4th gen)', '2011-06-20T23:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (Mid 2011)', '2011-07-19T23:00:00.000Z'),
  ('Mac Mini', 'Mac Mini (Mid 2011)', '2011-07-19T23:00:00.000Z'),
  ('Displays', 'Thunderbolt Display', '2011-07-19T23:00:00.000Z'),
  ('iPhone', 'iPhone 4 (8 GB)', '2011-10-13T23:00:00.000Z'),
  ('iPhone', 'iPhone 4S (16 GB)', '2011-10-13T23:00:00.000Z'),
  ('iPhone', 'iPhone 4S (32 & 64 GB)', '2011-10-13T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Late 2011)', '2011-10-23T23:00:00.000Z'),
  ('iPad', 'iPad (3rd gen)', '2012-03-16T00:00:00.000Z'),
  ('Apple TV', 'Apple TV (3rd gen)', '2012-03-16T00:00:00.000Z'),
  ('Mac Pro', 'Mac Pro (Mid 2012)', '2012-06-10T23:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (Mid 2012)', '2012-06-10T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Mid 2012)', '2012-06-10T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro with Retina display (3rd gen) (15") (Mid 2012)', '2012-06-10T23:00:00.000Z'),
  ('AirPort Express', 'AirPort Express 802.11n (2nd gen)', '2012-06-10T23:00:00.000Z'),
  ('iPhone accessories', 'EarPods with 3.5mm connector', '2012-09-11T23:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (4th generation) (16 GB)', '2012-09-11T23:00:00.000Z'),
  ('iPhone', 'iPhone 5', '2012-09-20T23:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (5th generation) (32 & 64 GB)', '2012-10-10T23:00:00.000Z'),
  ('iPod Nano', 'iPod Nano (7th gen)', '2012-10-10T23:00:00.000Z'),
  ('Mac Mini', 'Mac Mini (Late 2012)', '2012-10-22T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro with Retina display (3rd gen) (13") (Late 2012)', '2012-10-22T23:00:00.000Z'),
  ('iPad', 'iPad mini (1st gen) (Wi-Fi) (16 GB)', '2012-11-02T00:00:00.000Z'),
  ('iPad', 'iPad mini (1st gen) (Wi-Fi) (32 & 64 GB)', '2012-11-02T00:00:00.000Z'),
  ('iPad', 'iPad (4th gen) (Wi-Fi) (16 GB)', '2012-11-02T00:00:00.000Z'),
  ('iPad', 'iPad (4th gen) (Wi-Fi) (32 & 64 GB)', '2012-11-02T00:00:00.000Z'),
  ('iPad', 'iPad Mini (Wi-Fi + Cellular) (16 GB)', '2012-11-16T00:00:00.000Z'),
  ('iPad', 'iPad Mini (Wi-Fi + Cellular) (32 & 64 GB)', '2012-11-16T00:00:00.000Z'),
  ('iPad', 'iPad (4th gen) (Wi-Fi + Cellular) (16 GB)', '2012-11-16T00:00:00.000Z'),
  ('iPad', 'iPad (4th gen) (Wi-Fi + Cellular) (32 & 64 GB)', '2012-11-16T00:00:00.000Z'),
  ('iMac', 'iMac (21.5") (Late 2012)', '2012-11-30T00:00:00.000Z'),
  ('iMac', 'iMac (27") (Late 2012)', '2012-12-01T00:00:00.000Z'),
  ('Apple TV', 'Apple TV (3rd generation Rev A)', '2013-01-28T00:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Retina, Early 2013)', '2013-02-13T00:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (5th generation) (16 GB)', '2013-05-29T23:00:00.000Z'),
  ('AirPort', 'AirPort Extreme 802.11ac', '2013-06-09T23:00:00.000Z'),
  ('AirPort, drives', 'AirPort Time Capsule 802.11ac', '2013-06-09T23:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (Mid 2013)', '2013-06-09T23:00:00.000Z'),
  ('iPhone', 'iPhone 4S (8 GB)', '2013-09-19T23:00:00.000Z'),
  ('iPhone', 'iPhone 5C (16 & 32 GB)', '2013-09-19T23:00:00.000Z'),
  ('iPhone', 'iPhone 5S (16 & 32 GB)', '2013-09-19T23:00:00.000Z'),
  ('iPhone', 'iPhone 5S (64 GB)', '2013-09-19T23:00:00.000Z'),
  ('iMac', 'iMac (21.5-inch, Late 2013)', '2013-09-23T23:00:00.000Z'),
  ('iMac', 'iMac (27-inch, Late 2013)', '2013-09-23T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Retina, Late 2013)', '2013-10-21T23:00:00.000Z'),
  ('iPad', 'iPad Air (16 & 32 GB)', '2013-11-01T00:00:00.000Z'),
  ('iPad', 'iPad Air (64 & 128 GB)', '2013-11-01T00:00:00.000Z'),
  ('iPad', 'iPad Mini 2 with Retina display (16 GB)', '2013-11-12T00:00:00.000Z'),
  ('iPad', 'iPad Mini 2 with Retina display (32 GB)', '2013-11-12T00:00:00.000Z'),
  ('iPad', 'iPad Mini 2 with Retina display (64 & 128 GB)', '2013-11-12T00:00:00.000Z'),
  ('Mac Pro', 'Mac Pro (Late 2013)', '2013-12-19T00:00:00.000Z'),
  ('iPhone', 'iPhone 5C (8 GB)', '2014-03-18T00:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (Early 2014)', '2014-04-28T23:00:00.000Z'),
  ('iMac', 'iMac (21.5-inch, Mid 2014)', '2014-06-17T23:00:00.000Z'),
  ('iPod Touch', 'iPod Touch 16GB (5th generation, Mid 2013)', '2014-06-25T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Retina, Mid 2014)', '2014-07-28T23:00:00.000Z'),
  ('iPhone', 'iPhone 6 (16 & 64 GB)', '2014-09-18T23:00:00.000Z'),
  ('iPhone', 'iPhone 6 Plus (16 & 64 GB)', '2014-09-18T23:00:00.000Z'),
  ('iPhone', 'iPhone 6 (128 GB)', '2014-09-18T23:00:00.000Z'),
  ('iPhone', 'iPhone 6 Plus (128 GB)', '2014-09-18T23:00:00.000Z'),
  ('iMac', 'iMac (Retina 5K, 27-inch, Late 2014)', '2014-10-15T23:00:00.000Z'),
  ('Mac Mini', 'Mac Mini (Late 2014)', '2014-10-15T23:00:00.000Z'),
  ('iPad', 'iPad Air 2 (16 & 64 GB)', '2014-10-21T23:00:00.000Z'),
  ('iPad', 'iPad Air 2 (128 GB)', '2014-10-21T23:00:00.000Z'),
  ('iPad', 'iPad Mini 3 (16, 64 & 128 GB)', '2014-10-21T23:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (13-inch, Early 2015)', '2015-03-09T00:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (11-inch, Early 2015)', '2015-03-09T00:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Retina, 13-inch, Early 2015)', '2015-03-09T00:00:00.000Z'),
  ('MacBook', 'MacBook (Retina, 12-inch, Early 2015)', '2015-04-09T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch (1st generation)', '2015-04-23T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Sport (1st generation)', '2015-04-23T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Edition (1st generation)', '2015-04-23T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (Retina, 15-inch, Mid 2015)', '2015-05-18T23:00:00.000Z'),
  ('iMac', 'iMac (Retina 5K, 27-inch, Mid 2015)', '2015-05-18T23:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (6th generation) (32 GB and 128 GB)', '2015-07-14T23:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (6th generation) (16 GB and 64 GB)', '2015-07-14T23:00:00.000Z'),
  ('iPad', 'iPad Mini 4 (16 GB and 64 GB)', '2015-09-08T23:00:00.000Z'),
  ('iPad', 'iPad Mini 4 (32 GB)', '2015-09-08T23:00:00.000Z'),
  ('iPad', 'iPad Mini 4 (128 GB)', '2015-09-08T23:00:00.000Z'),
  ('iPhone', 'iPhone 6S (16GB and 64GB)', '2015-09-24T23:00:00.000Z'),
  ('iPhone', 'iPhone 6S (128 GB)', '2015-09-24T23:00:00.000Z'),
  ('iPhone', 'iPhone 6S Plus (16GB and 64GB)', '2015-09-24T23:00:00.000Z'),
  ('iPhone', 'iPhone 6S Plus (128 GB)', '2015-09-24T23:00:00.000Z'),
  ('iMac', 'iMac (21.5-inch, Late 2015)', '2015-10-12T23:00:00.000Z'),
  ('iMac', 'iMac (Retina 4K, 21.5-inch, Late 2015)', '2015-10-12T23:00:00.000Z'),
  ('iMac', 'iMac (Retina 5K, 27-inch, Late 2015)', '2015-10-12T23:00:00.000Z'),
  ('Apple Mouse', 'Magic Mouse 2', '2015-10-12T23:00:00.000Z'),
  ('Trackpad', 'Magic Trackpad 2', '2015-10-12T23:00:00.000Z'),
  ('Apple Keyboard', 'Magic Keyboard', '2015-10-12T23:00:00.000Z'),
  ('Apple TV', 'Apple TV HD (Previously Apple TV (4th generation)) (32 GB)', '2015-10-30T00:00:00.000Z'),
  ('Apple TV', 'Apple TV HD (Previously Apple TV (4th generation)) (64 GB)', '2015-10-30T00:00:00.000Z'),
  ('iPad', 'iPad Pro (12.9-inch) (32 and 128 GB)', '2015-11-11T00:00:00.000Z'),
  ('iPad', 'Apple Pencil', '2015-11-11T00:00:00.000Z'),
  ('iPad', 'iPad Pro (9.7-inch)', '2016-03-30T23:00:00.000Z'),
  ('iPhone', 'iPhone SE (1st generation) (16 & 64 GB)', '2016-03-30T23:00:00.000Z'),
  ('iPad', 'iPad Pro (12.9-inch) (256 GB)', '2016-03-30T23:00:00.000Z'),
  ('MacBook', 'MacBook (Retina, 12-inch, Early 2016)', '2016-04-18T23:00:00.000Z'),
  ('iPad', 'iPad Air 2 (32 GB)', '2016-09-06T23:00:00.000Z'),
  ('iPhone', 'iPhone 7 (32 & 128 GB)', '2016-09-15T23:00:00.000Z'),
  ('iPhone', 'iPhone 7 (256 GB)', '2016-09-15T23:00:00.000Z'),
  ('iPhone', 'iPhone 7 Plus (32 & 128 GB)', '2016-09-15T23:00:00.000Z'),
  ('iPhone', 'iPhone 7 Plus (256 GB)', '2016-09-15T23:00:00.000Z'),
  ('iPhone accessories', 'EarPods with Lightning Connector', '2016-09-15T23:00:00.000Z'),
  ('iPhone', 'iPhone 6S (32 GB)', '2016-09-15T23:00:00.000Z'),
  ('iPhone', 'iPhone 6S Plus (32 GB)', '2016-09-15T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Series 1', '2016-09-15T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Series 2', '2016-09-15T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Hermès Series 2', '2016-09-15T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Edition Series 2', '2016-09-15T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (13-inch, 2016, Two Thunderbolt 3 ports)', '2016-10-26T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (13-inch, 2016, Four Thunderbolt 3 ports)', '2016-10-26T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (15-inch, 2016)', '2016-10-26T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Nike+ Series 2', '2016-10-27T23:00:00.000Z'),
  ('iPhone accessories', 'AirPods (1st generation)', '2016-12-19T00:00:00.000Z'),
  ('iPhone', 'iPhone SE (1st generation) (32 GB and 128 GB)', '2017-03-21T00:00:00.000Z'),
  ('iPad', 'iPad (5th generation)', '2017-03-24T00:00:00.000Z'),
  ('iPad', 'iPad Pro (12.9-inch) (2nd generation)', '2017-06-04T23:00:00.000Z'),
  ('iPad', 'iPad Pro (10.5-inch)', '2017-06-04T23:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (13-inch, 2017)', '2017-06-04T23:00:00.000Z'),
  ('MacBook', 'MacBook (Retina, 12-inch, 2017)', '2017-06-04T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (13-inch, 2017, Two Thunderbolt 3 ports)', '2017-06-04T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (13-inch, 2017, Four Thunderbolt 3 ports)', '2017-06-04T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (15-inch, 2017)', '2017-06-04T23:00:00.000Z'),
  ('iMac', 'iMac (21.5-inch, 2017)', '2017-06-04T23:00:00.000Z'),
  ('iMac', 'iMac (Retina 4K, 21.5-inch, 2017)', '2017-06-04T23:00:00.000Z'),
  ('iMac', 'iMac (Retina 5K, 27-inch, 2017)', '2017-06-04T23:00:00.000Z'),
  ('Apple Keyboard', 'Magic Keyboard with Numeric Keypad', '2017-06-04T23:00:00.000Z'),
  ('Apple TV', 'Apple TV 4K (1st generation)', '2017-09-21T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Series 3', '2017-09-21T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Hermès Series 3', '2017-09-21T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Edition Series 3', '2017-09-21T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Nike+ Series 3', '2017-09-21T23:00:00.000Z'),
  ('iPhone', 'iPhone 8 (64 GB)', '2017-09-21T23:00:00.000Z'),
  ('iPhone', 'iPhone 8 (256 GB)', '2017-09-21T23:00:00.000Z'),
  ('iPhone', 'iPhone 8 Plus (64 GB)', '2017-09-21T23:00:00.000Z'),
  ('iPhone', 'iPhone 8 Plus (256 GB)', '2017-09-21T23:00:00.000Z'),
  ('iPhone', 'iPhone X', '2017-11-03T00:00:00.000Z'),
  ('iMac', 'iMac Pro (2017)', '2017-12-14T00:00:00.000Z'),
  ('HomePod', 'HomePod', '2018-02-09T00:00:00.000Z'),
  ('iPad', 'iPad (6th generation)', '2018-03-26T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (13-inch, 2018, Four Thunderbolt 3 ports)', '2018-07-11T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (15-inch, 2018)', '2018-07-11T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Series 4', '2018-09-20T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Hermès Series 4', '2018-09-20T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Nike+ Series 4', '2018-09-20T23:00:00.000Z'),
  ('iPhone', 'iPhone XS', '2018-09-20T23:00:00.000Z'),
  ('iPhone', 'iPhone XS Max', '2018-09-20T23:00:00.000Z'),
  ('iPhone', 'iPhone XR (64 GB and 128 GB)', '2018-10-25T23:00:00.000Z'),
  ('iPhone', 'iPhone XR (256 GB)', '2018-10-25T23:00:00.000Z'),
  ('iPad', 'Apple Pencil (2nd generation)', '2018-10-30T00:00:00.000Z'),
  ('iPad', 'iPad Pro (11-inch) (1st generation)', '2018-11-07T00:00:00.000Z'),
  ('iPad', 'iPad Pro (12.9-inch) (3rd generation)', '2018-11-07T00:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (Retina, 13-inch, 2018)', '2018-11-07T00:00:00.000Z'),
  ('Mac Mini', 'Mac Mini (2018) (Intel Core i3)', '2018-11-07T00:00:00.000Z'),
  ('Mac Mini', 'Mac Mini (2018) (Intel Core i5 and i7)', '2018-11-07T00:00:00.000Z'),
  ('iPad', 'iPad Air (3rd generation)', '2019-03-18T00:00:00.000Z'),
  ('iPad', 'iPad Mini (5th generation)', '2019-03-18T00:00:00.000Z'),
  ('iMac', 'iMac (Retina 4K, 21.5-inch, 2019)', '2019-03-19T00:00:00.000Z'),
  ('iMac', 'iMac (Retina 5K, 27-inch, 2019)', '2019-03-19T00:00:00.000Z'),
  ('iPhone accessories', 'AirPods (2nd generation)', '2019-03-20T00:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (13-inch, 2019, Four Thunderbolt 3 ports)', '2019-05-20T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (15-inch, 2019)', '2019-05-20T23:00:00.000Z'),
  ('iPod Touch', 'iPod Touch (7th generation)', '2019-05-27T23:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (Retina, 13-inch, 2019)', '2019-07-08T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (13-inch, 2019, Two Thunderbolt 3 ports)', '2019-07-08T23:00:00.000Z'),
  ('iPhone accessories', 'Apple Card', '2019-08-19T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Series 5', '2019-09-19T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Hermès Series 5', '2019-09-19T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Nike Series 5', '2019-09-19T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Edition Series 5', '2019-09-19T23:00:00.000Z'),
  ('iPhone', 'iPhone 8 (128 GB)', '2019-09-19T23:00:00.000Z'),
  ('iPhone', 'iPhone 8 Plus (128 GB)', '2019-09-19T23:00:00.000Z'),
  ('iPhone', 'iPhone 11', '2019-09-19T23:00:00.000Z'),
  ('iPhone', 'iPhone 11 Pro', '2019-09-19T23:00:00.000Z'),
  ('iPhone', 'iPhone 11 Pro Max', '2019-09-19T23:00:00.000Z'),
  ('iPad', 'iPad (7th generation)', '2019-09-24T23:00:00.000Z'),
  ('iPhone accessories', 'AirPods Pro', '2019-10-30T00:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (16-inch, 2019)', '2019-11-13T00:00:00.000Z'),
  ('Mac Pro', 'Mac Pro (2019)', '2019-12-10T00:00:00.000Z'),
  ('Displays', 'Pro Display XDR', '2019-12-10T00:00:00.000Z'),
  ('iPad', 'iPad Pro (11-inch) (2nd generation)', '2020-03-18T00:00:00.000Z'),
  ('iPad', 'iPad Pro (12.9-inch) (4th generation)', '2020-03-18T00:00:00.000Z'),
  ('Apple Keyboard', 'Magic Keyboard for iPad', '2020-03-18T00:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (Retina, 13-inch, 2020)', '2020-03-18T00:00:00.000Z'),
  ('iPhone', 'iPhone SE (2nd generation)', '2020-04-23T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (13-inch, 2020, Four Thunderbolt 3 ports)', '2020-05-03T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (13-inch, 2020, Two Thunderbolt 3 ports)', '2020-05-03T23:00:00.000Z'),
  ('iMac', 'iMac (Retina 5K, 27-inch, 2020)', '2020-08-03T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Series 6', '2020-09-17T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Hermès Series 6', '2020-09-17T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Nike Series 6', '2020-09-17T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch SE', '2020-09-17T23:00:00.000Z'),
  ('iPad', 'iPad (8th generation)', '2020-09-17T23:00:00.000Z'),
  ('iPad', 'iPad Air (4th generation)', '2020-10-22T23:00:00.000Z'),
  ('iPhone', 'iPhone 12', '2020-10-22T23:00:00.000Z'),
  ('iPhone', 'iPhone 12 Pro', '2020-10-22T23:00:00.000Z'),
  ('iPhone', 'iPhone 12 Mini', '2020-11-13T00:00:00.000Z'),
  ('iPhone', 'iPhone 12 Pro Max', '2020-11-13T00:00:00.000Z'),
  ('HomePod', 'HomePod Mini', '2020-11-16T00:00:00.000Z'),
  ('Mac Mini', 'Mac Mini (M1, 2020)', '2020-11-17T00:00:00.000Z'),
  ('MacBook Air', 'MacBook Air (M1, 2020)', '2020-11-17T00:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (13-inch, M1, 2020)', '2020-11-17T00:00:00.000Z'),
  ('iPhone accessories', 'AirPods Max', '2020-12-15T00:00:00.000Z'),
  ('iPhone accessories', 'AirTag', '2021-04-29T23:00:00.000Z'),
  ('Apple TV', 'Apple TV 4K (2nd generation)', '2021-05-20T23:00:00.000Z'),
  ('iMac', 'iMac (24-inch, M1, 2021)', '2021-05-20T23:00:00.000Z'),
  ('Apple Keyboard', 'Magic Keyboard with Touch ID', '2021-05-20T23:00:00.000Z'),
  ('Apple Keyboard', 'Magic Keyboard with Touch ID and Numeric Keypad', '2021-05-20T23:00:00.000Z'),
  ('iPad', 'iPad Pro (11-inch) (3rd generation)', '2021-05-20T23:00:00.000Z'),
  ('iPad', 'iPad Pro (12.9-inch) (5th generation)', '2021-05-20T23:00:00.000Z'),
  ('iPhone', 'MagSafe Battery Pack', '2021-07-12T23:00:00.000Z'),
  ('iPad', 'iPad (9th generation)', '2021-09-23T23:00:00.000Z'),
  ('iPad', 'iPad Mini (6th generation)', '2021-09-23T23:00:00.000Z'),
  ('iPhone', 'iPhone 13', '2021-09-23T23:00:00.000Z'),
  ('iPhone', 'iPhone 13 Mini', '2021-09-23T23:00:00.000Z'),
  ('iPhone', 'iPhone 13 Pro', '2021-09-23T23:00:00.000Z'),
  ('iPhone', 'iPhone 13 Pro Max', '2021-09-23T23:00:00.000Z'),
  ('Apple Watch', 'Apple Watch Series 7', '2021-10-07T23:00:00.000Z'),
  ('iPhone accessories', 'AirPods (3rd generation)', '2021-10-25T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (14-inch, 2021)', '2021-10-25T23:00:00.000Z'),
  ('MacBook Pro', 'MacBook Pro (16-inch, 2021)', '2021-10-25T23:00:00.000Z'),
  ('Cleaning aid', 'Apple Polishing Cloth', '2021-10-25T23:00:00.000Z'),
  ('HomePod', 'HomePod Mini (Yellow, Orange, Blue)', '2021-11-01T00:00:00.000Z'),
  ('Displays', 'Apple Studio Display', '2022-03-18T00:00:00.000Z'),
  ('iPad', 'iPad Air (5th generation)', '2022-03-18T00:00:00.000Z'),
  ('iPhone', 'iPhone SE (3rd generation)', '2022-03-18T00:00:00.000Z'),
  ('Mac Studio', 'Mac Studio', '2022-03-18T00:00:00.000Z');

insert into disclosures (product_id, email) values
  (1, 'john.appleseed@apple.com'),
  (2, 'benjie@graphile.com');

---

comment on function current_email is 'The email address of the logged in user';
comment on function current_user_is_admin is 'Reveals if the logged in user is an admin or not';

comment on table products is 'Details of our released and unreleased products';

-- Example of renaming a table in the GraphQL schema using a smart comment
comment on table disclosures is E'@name authorised_emails\nDetails about access granted to a specific person (identified by email address) about a specific product that may not have been released yet.';

comment on column products.family is 'The family to which the device belongs, such as iPhone, MacBook Pro, etc.';
comment on column products.model is 'The full name of the model, with enough information to differentiate it from previous models.';
comment on column products.released is 'The date on which the product was released, or an approximate date if the date was not known. Might be a date in the future.';

comment on column disclosures.product_id is 'The identifier of the product that is being disclosed';
comment on column disclosures.email is 'The email address of the person whom we are allowing to see details of an unreleased product.';

---

-- Smart comments to remove our helper functions from the GraphQL schema:

-- comment on function current_email is E'@omit\nThe email address of the logged in user';
-- comment on function current_user_is_admin is E'@omit\nReveals if the logged in user is an admin or not';

